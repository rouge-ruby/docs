<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Rouge::Lexers::ConsoleLexer
  
    &mdash; Documentation by YARD 0.9.24
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Rouge::Lexers::ConsoleLexer";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Rouge.html" title="Rouge (module)">Rouge</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Lexers.html" title="Rouge::Lexers (module)">Lexers</a></span></span>
     &raquo; 
    <span class="title">ConsoleLexer</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Rouge::Lexers::ConsoleLexer
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../Lexer.html" title="Rouge::Lexer (class)">Rouge::Lexer</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="../Lexer.html" title="Rouge::Lexer (class)">Rouge::Lexer</a></span></li>
          
            <li class="next">Rouge::Lexers::ConsoleLexer</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/rouge/lexers/console.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>The <span class='object_link'><a href="" title="Rouge::Lexers::ConsoleLexer (class)">ConsoleLexer</a></span> class is intended to lex content that represents the
text that would display in a console/terminal. As distinct from the
<span class='object_link'><a href="Shell.html" title="Rouge::Lexers::Shell (class)">Shell</a></span> lexer, <span class='object_link'><a href="" title="Rouge::Lexers::ConsoleLexer (class)">ConsoleLexer</a></span> will try to parse out the prompt from each
line before passing the remainder of the line to the language lexer for
the shell (by default, the <span class='object_link'><a href="Shell.html" title="Rouge::Lexers::Shell (class)">Shell</a></span> lexer).</p>

<p>The <span class='object_link'><a href="" title="Rouge::Lexers::ConsoleLexer (class)">ConsoleLexer</a></span> class accepts four options:</p>

<ol>
<li><strong>lang</strong>: the shell language to lex (default: <code>shell</code>);</li>
<li><strong>output</strong>: the output language (default: <code>plaintext?token=Generic.Output</code>);</li>
<li><strong>prompt</strong>: comma-separated list of strings that indicate the end of a
prompt (default: <code>$,#,&gt;,;</code>);</li>
<li><strong>comments</strong>: whether to enable comments.</li>
</ol>

<p>The comments option, if enabled, will lex lines that begin with a <code>#</code> as a
comment. Please note that this option will only work if the prompt is
either not manually specified or, if manually specified, does not include
the <code>#</code> character.</p>

<p>Most Markdown lexers that recognise GitHub-Flavored Markdown syntax, will
pass the language string to Rouge as written in the original document.
This allows an end user to pass options to <span class='object_link'><a href="" title="Rouge::Lexers::ConsoleLexer (class)">ConsoleLexer</a></span> by passing them
as CGI-style parameters as in the example below.</p>

<pre class="code ruby"><code class="ruby">Here&#39;s some regular text.

```console?comments=true
# This is a comment
$ cp foo bar
```

Some more regular text.</code></pre>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="IRBLexer.html" title="Rouge::Lexers::IRBLexer (class)">IRBLexer</a></span></p>
</div>



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="../Token/Tokens.html" title="Rouge::Token::Tokens (module)">Token::Tokens</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Token/Tokens.html#Num-constant" title="Rouge::Token::Tokens::Num (constant)">Token::Tokens::Num</a></span>, <span class='object_link'><a href="../Token/Tokens.html#Str-constant" title="Rouge::Token::Tokens::Str (constant)">Token::Tokens::Str</a></span></p>




  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="../Lexer.html" title="Rouge::Lexer (class)">Rouge::Lexer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Lexer.html#options-instance_method" title="Rouge::Lexer#options (method)">#options</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#allow_comments%3F-instance_method" title="#allow_comments? (instance method)">#<strong>allow_comments?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>whether to allow comments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#comment_regex-instance_method" title="#comment_regex (instance method)">#<strong>comment_regex</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#end_chars-instance_method" title="#end_chars (instance method)">#<strong>end_chars</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>  &#x21d2; ConsoleLexer </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A new instance of ConsoleLexer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lang_lexer-instance_method" title="#lang_lexer (instance method)">#<strong>lang_lexer</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#line_regex-instance_method" title="#line_regex (instance method)">#<strong>line_regex</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#output_lexer-instance_method" title="#output_lexer (instance method)">#<strong>output_lexer</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#process_line-instance_method" title="#process_line (instance method)">#<strong>process_line</strong>(input, &amp;output)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prompt_prefix_regex-instance_method" title="#prompt_prefix_regex (instance method)">#<strong>prompt_prefix_regex</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prompt_regex-instance_method" title="#prompt_regex (instance method)">#<strong>prompt_regex</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stream_tokens-instance_method" title="#stream_tokens (instance method)">#<strong>stream_tokens</strong>(input, &amp;output)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../Lexer.html" title="Rouge::Lexer (class)">Rouge::Lexer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Lexer.html#aliases-class_method" title="Rouge::Lexer.aliases (method)">aliases</a></span>, <span class='object_link'><a href="../Lexer.html#all-class_method" title="Rouge::Lexer.all (method)">all</a></span>, <span class='object_link'><a href="../Lexer.html#as_bool-instance_method" title="Rouge::Lexer#as_bool (method)">#as_bool</a></span>, <span class='object_link'><a href="../Lexer.html#as_lexer-instance_method" title="Rouge::Lexer#as_lexer (method)">#as_lexer</a></span>, <span class='object_link'><a href="../Lexer.html#as_list-instance_method" title="Rouge::Lexer#as_list (method)">#as_list</a></span>, <span class='object_link'><a href="../Lexer.html#as_string-instance_method" title="Rouge::Lexer#as_string (method)">#as_string</a></span>, <span class='object_link'><a href="../Lexer.html#as_token-instance_method" title="Rouge::Lexer#as_token (method)">#as_token</a></span>, <span class='object_link'><a href="../Lexer.html#bool_option-instance_method" title="Rouge::Lexer#bool_option (method)">#bool_option</a></span>, <span class='object_link'><a href="../Lexer.html#continue_lex-instance_method" title="Rouge::Lexer#continue_lex (method)">#continue_lex</a></span>, <span class='object_link'><a href="../Lexer.html#continue_lex-class_method" title="Rouge::Lexer.continue_lex (method)">continue_lex</a></span>, <span class='object_link'><a href="../Lexer.html#debug_enabled%3F-class_method" title="Rouge::Lexer.debug_enabled? (method)">debug_enabled?</a></span>, <span class='object_link'><a href="../Lexer.html#demo-class_method" title="Rouge::Lexer.demo (method)">demo</a></span>, <span class='object_link'><a href="../Lexer.html#demo_file-class_method" title="Rouge::Lexer.demo_file (method)">demo_file</a></span>, <span class='object_link'><a href="../Lexer.html#desc-class_method" title="Rouge::Lexer.desc (method)">desc</a></span>, <span class='object_link'><a href="../Lexer.html#detect%3F-class_method" title="Rouge::Lexer.detect? (method)">detect?</a></span>, <span class='object_link'><a href="../Lexer.html#detectable%3F-class_method" title="Rouge::Lexer.detectable? (method)">detectable?</a></span>, <span class='object_link'><a href="../Lexer.html#disable_debug!-class_method" title="Rouge::Lexer.disable_debug! (method)">disable_debug!</a></span>, <span class='object_link'><a href="../Lexer.html#enable_debug!-class_method" title="Rouge::Lexer.enable_debug! (method)">enable_debug!</a></span>, <span class='object_link'><a href="../Lexer.html#filenames-class_method" title="Rouge::Lexer.filenames (method)">filenames</a></span>, <span class='object_link'><a href="../Lexer.html#find-class_method" title="Rouge::Lexer.find (method)">find</a></span>, <span class='object_link'><a href="../Lexer.html#find_fancy-class_method" title="Rouge::Lexer.find_fancy (method)">find_fancy</a></span>, <span class='object_link'><a href="../Lexer.html#guess-class_method" title="Rouge::Lexer.guess (method)">guess</a></span>, <span class='object_link'><a href="../Lexer.html#guess_by_filename-class_method" title="Rouge::Lexer.guess_by_filename (method)">guess_by_filename</a></span>, <span class='object_link'><a href="../Lexer.html#guess_by_mimetype-class_method" title="Rouge::Lexer.guess_by_mimetype (method)">guess_by_mimetype</a></span>, <span class='object_link'><a href="../Lexer.html#guess_by_source-class_method" title="Rouge::Lexer.guess_by_source (method)">guess_by_source</a></span>, <span class='object_link'><a href="../Lexer.html#guesses-class_method" title="Rouge::Lexer.guesses (method)">guesses</a></span>, <span class='object_link'><a href="../Lexer.html#hash_option-instance_method" title="Rouge::Lexer#hash_option (method)">#hash_option</a></span>, <span class='object_link'><a href="../Lexer.html#lex-class_method" title="Rouge::Lexer.lex (method)">lex</a></span>, <span class='object_link'><a href="../Lexer.html#lex-instance_method" title="Rouge::Lexer#lex (method)">#lex</a></span>, <span class='object_link'><a href="../Lexer.html#lexer_option-instance_method" title="Rouge::Lexer#lexer_option (method)">#lexer_option</a></span>, <span class='object_link'><a href="../Lexer.html#list_option-instance_method" title="Rouge::Lexer#list_option (method)">#list_option</a></span>, <span class='object_link'><a href="../Lexer.html#mimetypes-class_method" title="Rouge::Lexer.mimetypes (method)">mimetypes</a></span>, <span class='object_link'><a href="../Lexer.html#option-class_method" title="Rouge::Lexer.option (method)">option</a></span>, <span class='object_link'><a href="../Lexer.html#option_docs-class_method" title="Rouge::Lexer.option_docs (method)">option_docs</a></span>, <span class='object_link'><a href="../Lexer.html#reset!-instance_method" title="Rouge::Lexer#reset! (method)">#reset!</a></span>, <span class='object_link'><a href="../Lexer.html#string_option-instance_method" title="Rouge::Lexer#string_option (method)">#string_option</a></span>, <span class='object_link'><a href="../Lexer.html#tag-class_method" title="Rouge::Lexer.tag (method)">tag</a></span>, <span class='object_link'><a href="../Lexer.html#tag-instance_method" title="Rouge::Lexer#tag (method)">#tag</a></span>, <span class='object_link'><a href="../Lexer.html#title-class_method" title="Rouge::Lexer.title (method)">title</a></span>, <span class='object_link'><a href="../Lexer.html#token_option-instance_method" title="Rouge::Lexer#token_option (method)">#token_option</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Token/Tokens.html" title="Rouge::Token::Tokens (module)">Token::Tokens</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Token/Tokens.html#token-class_method" title="Rouge::Token::Tokens.token (method)">token</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="Rouge::Lexers::ConsoleLexer (class)">ConsoleLexer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new instance of ConsoleLexer.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rouge/lexers/console.rb', line 49</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='op'>*</span><span class='rparen'>)</span>
  <span class='kw'>super</span>
  <span class='ivar'>@prompt</span> <span class='op'>=</span> <span class='id identifier rubyid_list_option'>list_option</span><span class='lparen'>(</span><span class='symbol'>:prompt</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='kw'>nil</span> <span class='rbrace'>}</span>
  <span class='ivar'>@lang</span> <span class='op'>=</span> <span class='id identifier rubyid_lexer_option'>lexer_option</span><span class='lparen'>(</span><span class='symbol'>:lang</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>shell</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span>
  <span class='ivar'>@output</span> <span class='op'>=</span> <span class='id identifier rubyid_lexer_option'>lexer_option</span><span class='lparen'>(</span><span class='symbol'>:output</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'><span class='object_link'><a href="PlainText.html" title="Rouge::Lexers::PlainText (class)">PlainText</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PlainText.html#initialize-instance_method" title="Rouge::Lexers::PlainText#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>token:</span> <span class='const'>Generic</span><span class='op'>::</span><span class='const'>Output</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='ivar'>@comments</span> <span class='op'>=</span> <span class='id identifier rubyid_bool_option'>bool_option</span><span class='lparen'>(</span><span class='symbol'>:comments</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='symbol'>:guess</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="allow_comments?-instance_method">
  
    #<strong>allow_comments?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>whether to allow comments. if manually specifying a prompt that isn&#39;t
simply &quot;#&quot;, we flag this to on</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77
78
79
80
81
82</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rouge/lexers/console.rb', line 75</span>

<span class='kw'>def</span> <span class='id identifier rubyid_allow_comments?'>allow_comments?</span>
  <span class='kw'>case</span> <span class='ivar'>@comments</span>
  <span class='kw'>when</span> <span class='symbol'>:guess</span>
    <span class='ivar'>@prompt</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@prompt</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_end_chars'>end_chars</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@comments</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="comment_regex-instance_method">
  
    #<strong>comment_regex</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rouge/lexers/console.rb', line 122</span>

<span class='kw'>def</span> <span class='id identifier rubyid_comment_regex'>comment_regex</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*?#</span><span class='regexp_end'>/</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="end_chars-instance_method">
  
    #<strong>end_chars</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65
66
67
68
69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rouge/lexers/console.rb', line 63</span>

<span class='kw'>def</span> <span class='id identifier rubyid_end_chars'>end_chars</span>
  <span class='ivar'>@end_chars</span> <span class='op'>||=</span> <span class='kw'>if</span> <span class='ivar'>@prompt</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
    <span class='ivar'>@prompt</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='rbrace'>}</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_allow_comments?'>allow_comments?</span>
    <span class='qwords_beg'>%w(</span><span class='tstring_content'>$</span><span class='words_sep'> </span><span class='tstring_content'>&gt;</span><span class='words_sep'> </span><span class='tstring_content'>;</span><span class='tstring_end'>)</span></span>
  <span class='kw'>else</span>
    <span class='qwords_beg'>%w(</span><span class='tstring_content'>$</span><span class='words_sep'> </span><span class='tstring_content'>#</span><span class='words_sep'> </span><span class='tstring_content'>&gt;</span><span class='words_sep'> </span><span class='tstring_content'>;</span><span class='tstring_end'>)</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lang_lexer-instance_method">
  
    #<strong>lang_lexer</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


92
93
94
95
96
97
98
99
100
101
102
103</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rouge/lexers/console.rb', line 92</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lang_lexer'>lang_lexer</span>
  <span class='ivar'>@lang_lexer</span> <span class='op'>||=</span> <span class='kw'>case</span> <span class='ivar'>@lang</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../Lexer.html" title="Rouge::Lexer (class)">Lexer</a></span></span>
    <span class='ivar'>@lang</span>
  <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='const'><span class='object_link'><a href="Shell.html" title="Rouge::Lexers::Shell (class)">Shell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Lexer.html#initialize-instance_method" title="Rouge::Lexer#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='const'>Class</span>
    <span class='ivar'>@lang</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='const'><span class='object_link'><a href="../Lexer.html" title="Rouge::Lexer (class)">Lexer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find'><span class='object_link'><a href="../Lexer.html#find-class_method" title="Rouge::Lexer.find (method)">find</a></span></span><span class='lparen'>(</span><span class='ivar'>@lang</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="line_regex-instance_method">
  
    #<strong>line_regex</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rouge/lexers/console.rb', line 118</span>

<span class='kw'>def</span> <span class='id identifier rubyid_line_regex'>line_regex</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\\.|[^\\])*?(\n|$)</span><span class='regexp_end'>/m</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="output_lexer-instance_method">
  
    #<strong>output_lexer</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107
108
109
110
111
112
113
114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rouge/lexers/console.rb', line 105</span>

<span class='kw'>def</span> <span class='id identifier rubyid_output_lexer'>output_lexer</span>
  <span class='ivar'>@output_lexer</span> <span class='op'>||=</span> <span class='kw'>case</span> <span class='ivar'>@output</span>
  <span class='kw'>when</span> <span class='kw'>nil</span>
    <span class='const'><span class='object_link'><a href="PlainText.html" title="Rouge::Lexers::PlainText (class)">PlainText</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PlainText.html#initialize-instance_method" title="Rouge::Lexers::PlainText#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>token:</span> <span class='const'>Generic</span><span class='op'>::</span><span class='const'>Output</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../Lexer.html" title="Rouge::Lexer (class)">Lexer</a></span></span>
    <span class='ivar'>@output</span>
  <span class='kw'>when</span> <span class='const'>Class</span>
    <span class='ivar'>@output</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='const'><span class='object_link'><a href="../Lexer.html" title="Rouge::Lexer (class)">Lexer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find'><span class='object_link'><a href="../Lexer.html#find-class_method" title="Rouge::Lexer.find (method)">find</a></span></span><span class='lparen'>(</span><span class='ivar'>@output</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="process_line-instance_method">
  
    #<strong>process_line</strong>(input, &amp;output)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rouge/lexers/console.rb', line 134</span>

<span class='kw'>def</span> <span class='id identifier rubyid_process_line'>process_line</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_output'>output</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='id identifier rubyid_line_regex'>line_regex</span><span class='rparen'>)</span>

  <span class='comment'># As a nicety, support the use of elisions in input text. A user can
</span>  <span class='comment'># write a line with only `&lt;...&gt;` or one or more `.` characters and
</span>  <span class='comment'># Rouge will treat it as a comment.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_input'>input</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*(?:&lt;[.]+&gt;|[.]+)\s*\z</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>console: matched snip </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_input'>input</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@debug</span>
    <span class='id identifier rubyid_output_lexer'>output_lexer</span><span class='period'>.</span><span class='id identifier rubyid_reset!'>reset!</span>
    <span class='id identifier rubyid_lang_lexer'>lang_lexer</span><span class='period'>.</span><span class='id identifier rubyid_reset!'>reset!</span>

    <span class='kw'>yield</span> <span class='const'>Comment</span><span class='comma'>,</span> <span class='id identifier rubyid_input'>input</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_prompt_regex'>prompt_regex</span> <span class='op'>=~</span> <span class='id identifier rubyid_input'>input</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>console: matched prompt </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_input'>input</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@debug</span>
    <span class='id identifier rubyid_output_lexer'>output_lexer</span><span class='period'>.</span><span class='id identifier rubyid_reset!'>reset!</span>

    <span class='kw'>yield</span> <span class='const'>Generic</span><span class='op'>::</span><span class='const'>Prompt</span><span class='comma'>,</span> <span class='backref'>$&amp;</span>

    <span class='comment'># make sure to take care of initial whitespace
</span>    <span class='comment'># before we pass to the lang lexer so it can determine where
</span>    <span class='comment'># the &quot;real&quot; beginning of the line is
</span>    <span class='backref'>$&#39;</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A\s*</span><span class='regexp_end'>/</span></span>
    <span class='kw'>yield</span> <span class='const'>Text</span><span class='op'>::</span><span class='const'>Whitespace</span><span class='comma'>,</span> <span class='backref'>$&amp;</span> <span class='kw'>unless</span> <span class='backref'>$&amp;</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_lang_lexer'>lang_lexer</span><span class='period'>.</span><span class='id identifier rubyid_continue_lex'>continue_lex</span><span class='lparen'>(</span><span class='backref'>$&#39;</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_output'>output</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_comment_regex'>comment_regex</span> <span class='op'>=~</span> <span class='id identifier rubyid_input'>input</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>console: matched comment </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_input'>input</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@debug</span>
    <span class='id identifier rubyid_output_lexer'>output_lexer</span><span class='period'>.</span><span class='id identifier rubyid_reset!'>reset!</span>
    <span class='id identifier rubyid_lang_lexer'>lang_lexer</span><span class='period'>.</span><span class='id identifier rubyid_reset!'>reset!</span>

    <span class='kw'>yield</span> <span class='const'>Comment</span><span class='comma'>,</span> <span class='id identifier rubyid_input'>input</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>console: matched output </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_input'>input</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@debug</span>
    <span class='id identifier rubyid_lang_lexer'>lang_lexer</span><span class='period'>.</span><span class='id identifier rubyid_reset!'>reset!</span>

    <span class='id identifier rubyid_output_lexer'>output_lexer</span><span class='period'>.</span><span class='id identifier rubyid_continue_lex'>continue_lex</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_output'>output</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prompt_prefix_regex-instance_method">
  
    #<strong>prompt_prefix_regex</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


84
85
86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rouge/lexers/console.rb', line 84</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prompt_prefix_regex'>prompt_prefix_regex</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_allow_comments?'>allow_comments?</span>
    <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[^&lt;#]*?</span><span class='regexp_end'>/m</span></span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.*?</span><span class='regexp_end'>/m</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prompt_regex-instance_method">
  
    #<strong>prompt_regex</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rouge/lexers/console.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prompt_regex'>prompt_regex</span>
  <span class='ivar'>@prompt_regex</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_prompt_prefix_regex'>prompt_prefix_regex</span><span class='embexpr_end'>}</span><span class='tstring_content'>(?:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_end_chars'>end_chars</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='lparen'>(</span><span class='symbol'>:escape</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>|</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='regexp_end'>/</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stream_tokens-instance_method">
  
    #<strong>stream_tokens</strong>(input, &amp;output)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128
129
130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rouge/lexers/console.rb', line 126</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stream_tokens'>stream_tokens</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_output'>output</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_input'>input</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_lang_lexer'>lang_lexer</span><span class='period'>.</span><span class='id identifier rubyid_reset!'>reset!</span>
  <span class='id identifier rubyid_output_lexer'>output_lexer</span><span class='period'>.</span><span class='id identifier rubyid_reset!'>reset!</span>

  <span class='id identifier rubyid_process_line'>process_line</span><span class='lparen'>(</span><span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_output'>output</span><span class='rparen'>)</span> <span class='kw'>while</span> <span class='op'>!</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Mar 11 04:41:43 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.24 (ruby-2.7.0).
</div>

    </div>
  </body>
</html>